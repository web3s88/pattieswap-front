{"version":3,"sources":["views/Voting/helpers.ts","views/Voting/config.ts","state/voting/hooks.ts","views/Voting/components/Proposals/tags.tsx","views/Voting/components/CastVoteModal/styles.tsx","views/Voting/components/Layout.tsx","views/Voting/components/CastVoteModal/DetailsView.tsx","views/Voting/hooks/useGetVotingPower.tsx","components/ReactMarkdown/styles.tsx","components/ReactMarkdown/index.tsx","views/Voting/components/CastVoteModal/types.ts","views/Voting/Proposal/Details.tsx","views/Voting/components/TextEllipsis.tsx","views/Voting/Proposal/Results.tsx","views/Voting/components/CastVoteModal/MainView.tsx","views/Voting/components/CastVoteModal/index.tsx","views/Voting/Proposal/Vote.tsx","views/Voting/components/Proposal/VotesLoading.tsx","views/Voting/components/Proposal/Row.tsx","views/Voting/components/Proposal/VoteRow.tsx","views/Voting/Proposal/Votes.tsx","views/Voting/Proposal/index.tsx"],"names":["isCoreProposal","proposal","ADMINS","includes","author","toLowerCase","filterProposalsByType","proposals","proposalType","ProposalType","COMMUNITY","filter","CORE","ALL","filterProposalsByState","state","generateMetaData","plugins","network","strategies","name","params","symbol","address","tokens","cake","decimals","generatePayloadData","version","SNAPSHOT_VERSION","timestamp","Date","now","toFixed","space","PANCAKE_SPACE","sendSnapshotData","message","a","fetch","SNAPSHOT_HUB_API","method","headers","Accept","body","JSON","stringify","response","ok","json","error","Error","error_description","data","getVotingPower","account","poolAddresses","block","simpleRpcProvider","getBlockNumber","blockNumber","SNAPSHOT_VOTING_API","calculateVoteResults","votes","reduce","accum","vote","choiceText","choices","choice","getTotalFromVotes","power","parseFloat","metadata","votingPower","PROPOSALS_TO_SHOW","map","IPFS_GATEWAY","VOTE_THRESHOLD","useGetProposals","useSelector","voting","Object","values","useGetProposal","proposalId","useGetVotes","_inValid","useGetVotingStateLoadingStatus","voteLoadingStatus","useGetProposalLoadingStatus","proposalLoadingStatus","ProposalStateTag","proposalState","props","ProposalState","ACTIVE","PENDING","ProposalTypeTag","VotingBox","styled","div","theme","colors","cardBorder","ModalInner","mb","maxWidth","Layout","mediaQueries","lg","DetailsView","total","cakeBalance","cakeVaultBalance","cakePoolBalance","poolsBalance","cakeBnbLpBalance","ifoPoolBalance","t","useTranslation","as","fontSize","color","textTransform","bold","formatNumber","alignItems","justifyContent","textAlign","initialState","verificationHash","useGetVotingPower","isActive","useWeb3React","useState","setVotingPower","isLoading","setIsLoading","useEffect","getActivePools","eligiblePools","contractAddress","getAddress","IFOPoolBalance","prevVotingPower","fetchVotingPower","Table","table","text","TableBox","ThemedComponent","Title","scale","my","markdownComponents","h1","h2","h3","h4","h5","h6","p","children","ol","ul","pre","ReactMarkdown","remarkPlugins","gfm","components","ConfirmVoteView","DetailBox","Box","background","Details","startDate","start","endDate","end","href","id","ml","slice","getBscScanLink","truncateHash","snapshot","format","TextEllipsis","Text","Results","results","votingStatus","totalVotes","VotingStateLoadingStatus","IDLE","index","choiceVotes","totalChoiceVote","progress","hasVoted","some","voter","mt","title","variant","outline","mr","primaryStep","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","LOADING","times","length","count","height","MainView","isPending","onConfirm","onViewDetails","onDismiss","label","onClick","style","cursor","width","endIcon","spin","disabled","CastVoteModal","onSuccess","MAIN","view","setView","modalIsOpen","setModalIsOpen","setIsPending","toastError","useToast","library","useWeb3Provider","useTheme","isStartView","handleBack","DETAILS","handleDismiss","handleConfirmVote","voteMsg","type","SnapshotCommand","VOTE","payload","value","toString","signMessage","sig","msg","console","onBack","hideCloseButton","headerBackground","gradients","cardHeader","Choice","isChecked","isDisabled","ChoiceText","Vote","setVote","toastSuccess","dispatch","useAppDispatch","handleSuccess","fetchVotes","Number","useModal","presentCastVoteModal","flexShrink","checked","onChange","ConnectWalletButton","Row","Flex","StyledSkeleton","Skeleton","VotesLoading","AddressColumn","attrs","ChoiceColumn","VotingPowerColumn","Grid","sm","VoteRow","isVoter","hasVotingPower","parseVotePower","incomingVote","Votes","showAll","setShowAll","orderedVotes","orderBy","displayVotes","isFinished","py","px","Proposal","useParams","hasAccountVoted","isPageLoading","fetchProposal","Container","Page","Link","to","startIcon","PageLoader"],"mappings":"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","file":"static/js/14.164e509a.chunk.js","sourcesContent":["import { SNAPSHOT_HUB_API, SNAPSHOT_VOTING_API } from 'config/constants/endpoints'\nimport tokens from 'config/constants/tokens'\nimport { Proposal, ProposalState, ProposalType, Vote } from 'state/types'\nimport { simpleRpcProvider } from 'utils/providers'\nimport { ADMINS, PANCAKE_SPACE, SNAPSHOT_VERSION } from './config'\n\nexport const isCoreProposal = (proposal: Proposal) => {\n  return ADMINS.includes(proposal.author.toLowerCase())\n}\n\nexport const filterProposalsByType = (proposals: Proposal[], proposalType: ProposalType) => {\n  switch (proposalType) {\n    case ProposalType.COMMUNITY:\n      return proposals.filter((proposal) => !isCoreProposal(proposal))\n    case ProposalType.CORE:\n      return proposals.filter((proposal) => isCoreProposal(proposal))\n    case ProposalType.ALL:\n    default:\n      return proposals\n  }\n}\n\nexport const filterProposalsByState = (proposals: Proposal[], state: ProposalState) => {\n  return proposals.filter((proposal) => proposal.state === state)\n}\n\nexport interface Message {\n  address: string\n  msg: string\n  sig: string\n}\n\n/**\n * Generates metadata required by snapshot to validate payload\n */\nexport const generateMetaData = () => {\n  return {\n    plugins: {},\n    network: 56,\n    strategies: [{ name: 'cake', params: { symbol: 'PATC', address: tokens.cake.address, decimals: 18 } }],\n  }\n}\n\n/**\n * Returns data that is required on all snapshot payloads\n */\nexport const generatePayloadData = () => {\n  return {\n    version: SNAPSHOT_VERSION,\n    timestamp: (Date.now() / 1e3).toFixed(),\n    space: PANCAKE_SPACE,\n  }\n}\n\n/**\n * General function to send commands to the snapshot api\n */\nexport const sendSnapshotData = async (message: Message) => {\n  const response = await fetch(SNAPSHOT_HUB_API, {\n    method: 'post',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(message),\n  })\n\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error?.error_description)\n  }\n\n  const data = await response.json()\n  return data\n}\n\nexport const getVotingPower = async (account: string, poolAddresses: string[], block?: number) => {\n  const blockNumber = block || (await simpleRpcProvider.getBlockNumber())\n  const response = await fetch(`${SNAPSHOT_VOTING_API}/power`, {\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      address: account,\n      block: blockNumber,\n      poolAddresses,\n    }),\n  })\n  const data = await response.json()\n  return data.data\n}\n\nexport const calculateVoteResults = (votes: Vote[]): { [key: string]: Vote[] } => {\n  return votes.reduce((accum, vote) => {\n    const choiceText = vote.proposal.choices[vote.choice - 1]\n\n    return {\n      ...accum,\n      [choiceText]: accum[choiceText] ? [...accum[choiceText], vote] : [vote],\n    }\n  }, {})\n}\n\nexport const getTotalFromVotes = (votes: Vote[]) => {\n  return votes.reduce((accum, vote) => {\n    let power = parseFloat(vote.metadata?.votingPower)\n\n    if (!power) {\n      power = 0\n    }\n\n    return accum + power\n  }, 0)\n}\n","export const PROPOSALS_TO_SHOW = 10\nexport const ADMINS = [\n  '0x842B508681eE336E74600974B4623B709477d29D', // TARO\n  '0x977e0c1005dff8749f8cac22f4df0bd5f013d1a7', // CHUNGUS\n  '0x6eaf1b33b8672c5dc40ab8f4ba3a0111723126c7', // HOPS\n].map((address) => address.toLowerCase())\nexport const IPFS_GATEWAY = 'https://gateway.ipfs.io/ipfs'\nexport const SNAPSHOT_VERSION = '0.1.3'\nexport const PANCAKE_SPACE = 'cake.eth'\nexport const VOTE_THRESHOLD = 10\n","import { useSelector } from 'react-redux'\nimport { State } from '../types'\n\n// Voting\nexport const useGetProposals = () => {\n  const proposals = useSelector((state: State) => state.voting.proposals)\n  return Object.values(proposals)\n}\n\nexport const useGetProposal = (proposalId: string) => {\n  const proposal = useSelector((state: State) => state.voting.proposals[proposalId])\n  return proposal\n}\n\nexport const useGetVotes = (proposalId: string) => {\n  const votes = useSelector((state: State) => state.voting.votes[proposalId])\n  return votes ? votes.filter((vote) => vote._inValid !== true) : []\n}\n\nexport const useGetVotingStateLoadingStatus = () => {\n  const votingStatus = useSelector((state: State) => state.voting.voteLoadingStatus)\n  return votingStatus\n}\n\nexport const useGetProposalLoadingStatus = () => {\n  const votingStatus = useSelector((state: State) => state.voting.proposalLoadingStatus)\n  return votingStatus\n}\n","import React from 'react'\nimport { TagProps } from '@pancakeswap/uikit'\nimport { ClosedTag, CommunityTag, CoreTag, SoonTag, VoteNowTag } from 'components/Tags'\nimport { ProposalState } from 'state/types'\n\ninterface ProposalStateTagProps extends TagProps {\n  proposalState: ProposalState\n}\n\nexport const ProposalStateTag: React.FC<ProposalStateTagProps> = ({ proposalState, ...props }) => {\n  if (proposalState === ProposalState.ACTIVE) {\n    return <VoteNowTag {...props} />\n  }\n\n  if (proposalState === ProposalState.PENDING) {\n    return <SoonTag {...props} />\n  }\n\n  return <ClosedTag {...props} />\n}\n\ninterface ProposalTypeTagProps extends TagProps {\n  isCoreProposal: boolean\n}\n\nexport const ProposalTypeTag: React.FC<ProposalTypeTagProps> = ({ isCoreProposal, ...props }) => {\n  if (isCoreProposal) {\n    return <CoreTag {...props} />\n  }\n\n  return <CommunityTag {...props} />\n}\n","import React from 'react'\nimport { Box, BoxProps } from '@pancakeswap/uikit'\nimport styled from 'styled-components'\n\nexport const VotingBox = styled.div`\n  align-items: center;\n  border: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  border-radius: 12px;\n  display: flex;\n  height: 64px;\n  justify-content: space-between;\n  margin-bottom: 24px;\n  padding: 0 16px;\n`\n\nexport const ModalInner: React.FC<BoxProps> = (props) => {\n  return <Box mb=\"24px\" maxWidth=\"320px\" {...props} />\n}\n","import styled from 'styled-components'\n\nconst Layout = styled.div`\n  align-items: start;\n  display: grid;\n  grid-gap: 32px;\n  grid-template-columns: minmax(0, 1fr);\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    grid-template-columns: 1fr 332px;\n  }\n`\n\nexport default Layout\n","import React from 'react'\nimport { Text, Flex } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { formatNumber } from 'utils/formatBalance'\nimport { VotingBox, ModalInner } from './styles'\n\ninterface DetailsViewProps {\n  total: number\n  cakeBalance: number\n  cakeVaultBalance: number\n  cakePoolBalance: number\n  poolsBalance: number\n  cakeBnbLpBalance: number\n  ifoPoolBalance: number\n}\n\nconst DetailsView: React.FC<DetailsViewProps> = ({\n  total,\n  cakeBalance,\n  cakeVaultBalance,\n  cakePoolBalance,\n  poolsBalance,\n  cakeBnbLpBalance,\n  ifoPoolBalance,\n}) => {\n  const { t } = useTranslation()\n\n  return (\n    <ModalInner mb=\"0\">\n      <Text as=\"p\" mb=\"24px\" fontSize=\"14px\" color=\"textSubtle\">\n        {t(\n          'Your voting power is determined by the amount of PATC you held at the block detailed below. PATC held in other places does not contribute to your voting power.',\n        )}\n      </Text>\n      <Text color=\"secondary\" textTransform=\"uppercase\" mb=\"4px\" bold fontSize=\"14px\">\n        {t('Overview')}\n      </Text>\n      <VotingBox>\n        <Text color=\"secondary\">{t('Your Voting Power')}</Text>\n        <Text bold fontSize=\"20px\">\n          {formatNumber(total, 0, 3)}\n        </Text>\n      </VotingBox>\n      <Text color=\"secondary\" textTransform=\"uppercase\" mb=\"4px\" bold fontSize=\"14px\">\n        {t('Your Cake Held Now')}\n      </Text>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"4px\">\n        <Text color=\"textSubtle\" fontSize=\"16px\">\n          {t('Wallet')}\n        </Text>\n        <Text textAlign=\"right\">{formatNumber(cakeBalance, 0, 3)}</Text>\n      </Flex>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"4px\">\n        <Text color=\"textSubtle\" fontSize=\"16px\">\n          {t('Manual PATC Pool')}\n        </Text>\n        <Text textAlign=\"right\">{formatNumber(cakePoolBalance, 0, 3)}</Text>\n      </Flex>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"4px\">\n        <Text color=\"textSubtle\" fontSize=\"16px\">\n          {t('Auto PATC Pool')}\n        </Text>\n        <Text textAlign=\"right\">{formatNumber(cakeVaultBalance, 0, 3)}</Text>\n      </Flex>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"4px\">\n        <Text color=\"textSubtle\" fontSize=\"16px\">\n          {t('IFO Pool')}\n        </Text>\n        <Text textAlign=\"right\">{formatNumber(ifoPoolBalance, 0, 3)}</Text>\n      </Flex>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"4px\">\n        <Text color=\"textSubtle\" fontSize=\"16px\">\n          {t('Other Syrup Pools')}\n        </Text>\n        <Text textAlign=\"right\">{formatNumber(poolsBalance, 0, 3)}</Text>\n      </Flex>\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"4px\">\n        <Text color=\"textSubtle\" fontSize=\"16px\">\n          {t('PATC BNB LP')}\n        </Text>\n        <Text textAlign=\"right\">{formatNumber(cakeBnbLpBalance, 0, 3)}</Text>\n      </Flex>\n    </ModalInner>\n  )\n}\n\nexport default DetailsView\n","import { useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport { getActivePools } from 'utils/calls'\nimport { getAddress } from 'utils/addressHelpers'\nimport { simpleRpcProvider } from 'utils/providers'\nimport { getVotingPower } from '../helpers'\n\ninterface State {\n  verificationHash: string\n  cakeBalance: number\n  cakeVaultBalance: number\n  cakePoolBalance: number\n  poolsBalance: number\n  cakeBnbLpBalance: number\n  ifoPoolBalance: number\n  total: number\n}\n\nconst initialState: State = {\n  verificationHash: null,\n  cakeBalance: 0,\n  cakeVaultBalance: 0,\n  cakePoolBalance: 0,\n  poolsBalance: 0,\n  cakeBnbLpBalance: 0,\n  ifoPoolBalance: 0,\n  total: 0,\n}\n\nconst useGetVotingPower = (block?: number, isActive = true): State & { isLoading: boolean } => {\n  const { account } = useWeb3React()\n  const [votingPower, setVotingPower] = useState(initialState)\n  const [isLoading, setIsLoading] = useState(!!account)\n\n  useEffect(() => {\n    const fetchVotingPower = async () => {\n      setIsLoading(true)\n\n      try {\n        const blockNumber = block || (await simpleRpcProvider.getBlockNumber())\n        const eligiblePools = await getActivePools(blockNumber)\n        const poolAddresses = eligiblePools.map(({ contractAddress }) => getAddress(contractAddress))\n        const {\n          cakeBalance,\n          cakeBnbLpBalance,\n          cakePoolBalance,\n          total,\n          poolsBalance,\n          cakeVaultBalance,\n          verificationHash,\n          IFOPoolBalance,\n        } = await getVotingPower(account, poolAddresses, blockNumber)\n\n        if (isActive) {\n          setVotingPower((prevVotingPower) => ({\n            ...prevVotingPower,\n            verificationHash,\n            cakeBalance: parseFloat(cakeBalance),\n            cakeBnbLpBalance: parseFloat(cakeBnbLpBalance),\n            cakePoolBalance: parseFloat(cakePoolBalance),\n            poolsBalance: parseFloat(poolsBalance),\n            cakeVaultBalance: parseFloat(cakeVaultBalance),\n            ifoPoolBalance: IFOPoolBalance ? parseFloat(IFOPoolBalance) : 0,\n            total: parseFloat(total),\n          }))\n        }\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    if (account && isActive) {\n      fetchVotingPower()\n    }\n  }, [account, block, setVotingPower, isActive, setIsLoading])\n\n  return { ...votingPower, isLoading }\n}\n\nexport default useGetVotingPower\n","import React from 'react'\nimport { Heading, Text } from '@pancakeswap/uikit'\nimport { NormalComponents, SpecialComponents } from 'react-markdown/src/ast-to-react'\nimport styled from 'styled-components'\n\nconst Table = styled.table`\n  margin-bottom: 32px;\n  margin-top: 32px;\n  width: 100%;\n\n  td,\n  th {\n    color: ${({ theme }) => theme.colors.text};\n    padding: 8px;\n  }\n`\nconst TableBox = styled.div`\n  width: 100%;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n`\n\nconst ThemedComponent = styled.div`\n  color: ${({ theme }) => theme.colors.text};\n  margin-bottom: 16px;\n  margin-top: 16px;\n\n  li {\n    margin-bottom: 8px;\n  }\n`\n\nconst Pre = styled.pre`\n  color: ${({ theme }) => theme.colors.text};\n  margin-bottom: 16px;\n  margin-top: 16px;\n  max-width: 100%;\n  overflow-x: auto;\n`\n\nconst AStyle = styled.a`\n  word-break: break-all;\n`\n\nconst Title = (props) => {\n  return <Heading as=\"h4\" scale=\"lg\" my=\"16px\" {...props} />\n}\n\nconst markdownComponents: Partial<NormalComponents & SpecialComponents> = {\n  h1: Title,\n  h2: Title,\n  h3: Title,\n  h4: Title,\n  h5: Title,\n  h6: Title,\n  p: (props) => {\n    return <Text as=\"p\" my=\"16px\" {...props} />\n  },\n  table: ({ ...props }) => {\n    return (\n      <TableBox>\n        <Table>{props.children}</Table>\n      </TableBox>\n    )\n  },\n  ol: (props) => {\n    return <ThemedComponent as=\"ol\" {...props} />\n  },\n  ul: (props) => {\n    return <ThemedComponent as=\"ul\" {...props} />\n  },\n  pre: Pre,\n  a: AStyle,\n}\n\nexport default markdownComponents\n","import React from 'react'\nimport ReactMarkdownLib, { ReactMarkdownOptions } from 'react-markdown'\nimport gfm from 'remark-gfm'\nimport markdownComponents from './styles'\n\nconst ReactMarkdown: React.FC<ReactMarkdownOptions> = (props) => {\n  return <ReactMarkdownLib remarkPlugins={[gfm]} components={markdownComponents} {...props} />\n}\n\nexport default ReactMarkdown\n","import { InjectedModalProps } from '@pancakeswap/uikit'\n\nexport enum ConfirmVoteView {\n  MAIN = 'main',\n  DETAILS = 'details',\n}\n\nexport interface CastVoteModalProps extends InjectedModalProps {\n  onSuccess: () => Promise<void>\n  proposalId: string\n  vote: {\n    label: string\n    value: number\n  }\n  block?: number\n}\n","import React from 'react'\nimport { Box, Card, CardBody, CardHeader, Flex, Heading, LinkExternal, Text } from '@pancakeswap/uikit'\nimport styled from 'styled-components'\nimport { format } from 'date-fns'\nimport { Proposal } from 'state/types'\nimport { useTranslation } from 'contexts/Localization'\nimport { getBscScanLink } from 'utils'\nimport truncateHash from 'utils/truncateHash'\nimport { IPFS_GATEWAY } from '../config'\nimport { ProposalStateTag } from '../components/Proposals/tags'\n\ninterface DetailsProps {\n  proposal: Proposal\n}\n\nconst DetailBox = styled(Box)`\n  background-color: ${({ theme }) => theme.colors.background};\n  border: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  border-radius: 16px;\n`\n\nconst Details: React.FC<DetailsProps> = ({ proposal }) => {\n  const { t } = useTranslation()\n  const startDate = new Date(proposal.start * 1000)\n  const endDate = new Date(proposal.end * 1000)\n\n  return (\n    <Card mb=\"16px\">\n      <CardHeader>\n        <Heading as=\"h3\" scale=\"md\">\n          {t('Details')}\n        </Heading>\n      </CardHeader>\n      <CardBody>\n        <Flex alignItems=\"center\" mb=\"8px\">\n          <Text color=\"textSubtle\">{t('Identifier')}</Text>\n          <LinkExternal href={`${IPFS_GATEWAY}/${proposal.id}`} ml=\"8px\">\n            {proposal.id.slice(0, 8)}\n          </LinkExternal>\n        </Flex>\n        <Flex alignItems=\"center\" mb=\"8px\">\n          <Text color=\"textSubtle\">{t('Creator')}</Text>\n          <LinkExternal href={getBscScanLink(proposal.author, 'address')} ml=\"8px\">\n            {truncateHash(proposal.author)}\n          </LinkExternal>\n        </Flex>\n        <Flex alignItems=\"center\" mb=\"16px\">\n          <Text color=\"textSubtle\">{t('Snapshot')}</Text>\n          <LinkExternal href={getBscScanLink(proposal.snapshot, 'block')} ml=\"8px\">\n            {proposal.snapshot}\n          </LinkExternal>\n        </Flex>\n        <DetailBox p=\"16px\">\n          <ProposalStateTag proposalState={proposal.state} mb=\"8px\" />\n          <Flex alignItems=\"center\">\n            <Text color=\"textSubtle\" fontSize=\"14px\">\n              {t('Start Date')}\n            </Text>\n            <Text ml=\"8px\">{format(startDate, 'yyyy-MM-dd HH:mm')}</Text>\n          </Flex>\n          <Flex alignItems=\"center\">\n            <Text color=\"textSubtle\" fontSize=\"14px\">\n              {t('End Date')}\n            </Text>\n            <Text ml=\"8px\">{format(endDate, 'yyyy-MM-dd HH:mm')}</Text>\n          </Flex>\n        </DetailBox>\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default Details\n","import styled from 'styled-components'\nimport { Text } from '@pancakeswap/uikit'\n\nconst TextEllipsis = styled(Text)`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`\n\nexport default TextEllipsis\n","import React from 'react'\nimport {\n  Box,\n  Text,\n  Flex,\n  Card,\n  CardBody,\n  CardHeader,\n  Heading,\n  Progress,\n  Skeleton,\n  Tag,\n  CheckmarkCircleIcon,\n} from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport times from 'lodash/times'\nimport { Vote, VotingStateLoadingStatus } from 'state/types'\nimport { useGetVotingStateLoadingStatus } from 'state/voting/hooks'\nimport { formatNumber } from 'utils/formatBalance'\nimport { useTranslation } from 'contexts/Localization'\nimport { calculateVoteResults, getTotalFromVotes } from '../helpers'\nimport TextEllipsis from '../components/TextEllipsis'\n\ninterface ResultsProps {\n  choices: string[]\n  votes: Vote[]\n}\n\nconst Results: React.FC<ResultsProps> = ({ choices, votes }) => {\n  const { t } = useTranslation()\n  const results = calculateVoteResults(votes)\n  const votingStatus = useGetVotingStateLoadingStatus()\n  const { account } = useWeb3React()\n  const totalVotes = getTotalFromVotes(votes)\n\n  return (\n    <Card>\n      <CardHeader>\n        <Heading as=\"h3\" scale=\"md\">\n          {t('Current Results')}\n        </Heading>\n      </CardHeader>\n      <CardBody>\n        {votingStatus === VotingStateLoadingStatus.IDLE &&\n          choices.map((choice, index) => {\n            const choiceVotes = results[choice] || []\n            const totalChoiceVote = getTotalFromVotes(choiceVotes)\n            const progress = totalVotes === 0 ? 0 : (totalChoiceVote / totalVotes) * 100\n            const hasVoted = choiceVotes.some((vote) => {\n              return account && vote.voter.toLowerCase() === account.toLowerCase()\n            })\n\n            return (\n              <Box key={choice} mt={index > 0 ? '24px' : '0px'}>\n                <Flex alignItems=\"center\" mb=\"8px\">\n                  <TextEllipsis mb=\"4px\" title={choice}>\n                    {choice}\n                  </TextEllipsis>\n                  {hasVoted && (\n                    <Tag variant=\"success\" outline ml=\"8px\">\n                      <CheckmarkCircleIcon mr=\"4px\" /> {t('Voted')}\n                    </Tag>\n                  )}\n                </Flex>\n                <Box mb=\"4px\">\n                  <Progress primaryStep={progress} scale=\"sm\" />\n                </Box>\n                <Flex alignItems=\"center\" justifyContent=\"space-between\">\n                  <Text color=\"textSubtle\">{t('%total% Votes', { total: formatNumber(totalChoiceVote, 0, 2) })}</Text>\n                  <Text>\n                    {progress.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}%\n                  </Text>\n                </Flex>\n              </Box>\n            )\n          })}\n\n        {votingStatus === VotingStateLoadingStatus.LOADING &&\n          times(choices.length).map((count, index) => {\n            return (\n              <Box key={count} mt={index > 0 ? '24px' : '0px'}>\n                <Skeleton height=\"36px\" mb=\"4px\" />\n              </Box>\n            )\n          })}\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default Results\n","import React from 'react'\nimport { IconButton, Text, Skeleton, Button, AutoRenewIcon, ChevronRightIcon } from '@pancakeswap/uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { formatNumber } from 'utils/formatBalance'\nimport TextEllipsis from '../TextEllipsis'\nimport { VotingBox, ModalInner } from './styles'\nimport { CastVoteModalProps } from './types'\n\ninterface MainViewProps {\n  vote: {\n    label: string\n    value: number\n  }\n  isLoading: boolean\n  isPending: boolean\n  total: number\n  onConfirm: () => void\n  onViewDetails: () => void\n  onDismiss: CastVoteModalProps['onDismiss']\n}\n\nconst MainView: React.FC<MainViewProps> = ({\n  vote,\n  total,\n  isPending,\n  isLoading,\n  onConfirm,\n  onViewDetails,\n  onDismiss,\n}) => {\n  const { t } = useTranslation()\n\n  return (\n    <>\n      <ModalInner>\n        <Text color=\"secondary\" mb=\"8px\" textTransform=\"uppercase\" fontSize=\"12px\" bold>\n          {t('Voting For')}\n        </Text>\n        <TextEllipsis bold fontSize=\"20px\" mb=\"8px\" title={vote.label}>\n          {vote.label}\n        </TextEllipsis>\n        <Text color=\"secondary\" mb=\"8px\" textTransform=\"uppercase\" fontSize=\"12px\" bold>\n          {t('Your Voting Power')}\n        </Text>\n        {isLoading ? (\n          <Skeleton height=\"64px\" mb=\"24px\" />\n        ) : (\n          <VotingBox onClick={onViewDetails} style={{ cursor: 'pointer' }}>\n            <Text bold fontSize=\"20px\">\n              {formatNumber(total, 0, 3)}\n            </Text>\n            <IconButton scale=\"sm\" variant=\"text\">\n              <ChevronRightIcon width=\"24px\" />\n            </IconButton>\n          </VotingBox>\n        )}\n        <Text as=\"p\" color=\"textSubtle\" fontSize=\"14px\">\n          {t('Are you sure you want to vote for the above choice? This action cannot be undone.')}\n        </Text>\n      </ModalInner>\n      <Button\n        isLoading={isPending}\n        endIcon={isPending ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\n        disabled={isLoading || total === 0}\n        width=\"100%\"\n        mb=\"8px\"\n        onClick={onConfirm}\n      >\n        {t('Confirm Vote')}\n      </Button>\n      <Button variant=\"secondary\" width=\"100%\" onClick={onDismiss}>\n        {t('Cancel')}\n      </Button>\n    </>\n  )\n}\n\nexport default MainView\n","import React, { useState } from 'react'\nimport { Box, Modal } from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport { useTranslation } from 'contexts/Localization'\nimport { SnapshotCommand } from 'state/types'\nimport { signMessage } from 'utils/web3React'\nimport useToast from 'hooks/useToast'\nimport useWeb3Provider from 'hooks/useActiveWeb3React'\nimport useTheme from 'hooks/useTheme'\nimport { CastVoteModalProps, ConfirmVoteView } from './types'\nimport MainView from './MainView'\nimport DetailsView from './DetailsView'\nimport { generatePayloadData, Message, sendSnapshotData } from '../../helpers'\nimport useGetVotingPower from '../../hooks/useGetVotingPower'\n\nconst CastVoteModal: React.FC<CastVoteModalProps> = ({ onSuccess, proposalId, vote, block, onDismiss }) => {\n  const [view, setView] = useState<ConfirmVoteView>(ConfirmVoteView.MAIN)\n  const [modalIsOpen, setModalIsOpen] = useState(true)\n  const [isPending, setIsPending] = useState(false)\n  const { account } = useWeb3React()\n  const { t } = useTranslation()\n  const { toastError } = useToast()\n  const { library } = useWeb3Provider()\n  const { theme } = useTheme()\n  const {\n    isLoading,\n    total,\n    cakeBalance,\n    cakeVaultBalance,\n    cakePoolBalance,\n    poolsBalance,\n    cakeBnbLpBalance,\n    ifoPoolBalance,\n    verificationHash,\n  } = useGetVotingPower(block, modalIsOpen)\n\n  const isStartView = view === ConfirmVoteView.MAIN\n  const handleBack = isStartView ? null : () => setView(ConfirmVoteView.MAIN)\n  const handleViewDetails = () => setView(ConfirmVoteView.DETAILS)\n\n  const title = {\n    [ConfirmVoteView.MAIN]: t('Confirm Vote'),\n    [ConfirmVoteView.DETAILS]: t('Voting Power'),\n  }\n\n  const handleDismiss = () => {\n    setModalIsOpen(false)\n    onDismiss()\n  }\n\n  const handleConfirmVote = async () => {\n    try {\n      setIsPending(true)\n      const voteMsg = JSON.stringify({\n        ...generatePayloadData(),\n        type: SnapshotCommand.VOTE,\n        payload: {\n          proposal: proposalId,\n          choice: vote.value,\n          metadata: {\n            votingPower: total.toString(),\n            verificationHash,\n          },\n        },\n      })\n\n      const sig = await signMessage(library, account, voteMsg)\n      const msg: Message = { address: account, msg: voteMsg, sig }\n\n      // Save proposal to snapshot\n      await sendSnapshotData(msg)\n      setIsPending(false)\n\n      await onSuccess()\n\n      handleDismiss()\n    } catch (error) {\n      setIsPending(false)\n      toastError(t('Error'), error?.message)\n      console.error(error)\n    }\n  }\n\n  return (\n    <Modal\n      title={title[view]}\n      onBack={handleBack}\n      onDismiss={onDismiss}\n      hideCloseButton={!isStartView}\n      headerBackground={theme.colors.gradients.cardHeader}\n    >\n      <Box mb=\"24px\" width=\"320px\">\n        {view === ConfirmVoteView.MAIN && (\n          <MainView\n            vote={vote}\n            isLoading={isLoading}\n            isPending={isPending}\n            total={total}\n            onConfirm={handleConfirmVote}\n            onViewDetails={handleViewDetails}\n            onDismiss={handleDismiss}\n          />\n        )}\n        {view === ConfirmVoteView.DETAILS && (\n          <DetailsView\n            total={total}\n            cakeBalance={cakeBalance}\n            ifoPoolBalance={ifoPoolBalance}\n            cakeVaultBalance={cakeVaultBalance}\n            cakePoolBalance={cakePoolBalance}\n            poolsBalance={poolsBalance}\n            cakeBnbLpBalance={cakeBnbLpBalance}\n          />\n        )}\n      </Box>\n    </Modal>\n  )\n}\n\nexport default CastVoteModal\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Button, Card, CardBody, CardHeader, CardProps, Heading, Radio, Text, useModal } from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport { useAppDispatch } from 'state'\nimport { Proposal } from 'state/types'\nimport { fetchVotes } from 'state/voting'\nimport useToast from 'hooks/useToast'\nimport { useTranslation } from 'contexts/Localization'\nimport ConnectWalletButton from 'components/ConnectWalletButton'\nimport CastVoteModal from '../components/CastVoteModal'\n\ninterface VoteProps extends CardProps {\n  proposal: Proposal\n}\n\ninterface State {\n  label: string\n  value: number\n}\n\nconst Choice = styled.label<{ isChecked: boolean; isDisabled: boolean }>`\n  align-items: center;\n  border: 1px solid ${({ theme, isChecked }) => theme.colors[isChecked ? 'success' : 'cardBorder']};\n  border-radius: 16px;\n  cursor: ${({ isDisabled }) => (isDisabled ? 'not-allowed' : 'pointer')};\n  display: flex;\n  margin-bottom: 16px;\n  padding: 16px;\n`\n\nconst ChoiceText = styled.div`\n  flex: 1;\n  padding-left: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 0;\n`\n\nconst Vote: React.FC<VoteProps> = ({ proposal, ...props }) => {\n  const [vote, setVote] = useState<State>(null)\n  const { t } = useTranslation()\n  const { toastSuccess } = useToast()\n  const dispatch = useAppDispatch()\n  const { account } = useWeb3React()\n\n  const handleSuccess = async () => {\n    toastSuccess(t('Vote cast!'))\n    dispatch(fetchVotes({ proposalId: proposal.id, block: Number(proposal.snapshot) }))\n  }\n\n  const [presentCastVoteModal] = useModal(\n    <CastVoteModal onSuccess={handleSuccess} proposalId={proposal.id} vote={vote} block={Number(proposal.snapshot)} />,\n  )\n\n  return (\n    <Card {...props}>\n      <CardHeader>\n        <Heading as=\"h3\" scale=\"md\">\n          {t('Cast your vote')}\n        </Heading>\n      </CardHeader>\n      <CardBody>\n        {proposal.choices.map((choice, index) => {\n          const isChecked = index + 1 === vote?.value\n\n          const handleChange = () => {\n            setVote({\n              label: choice,\n              value: index + 1,\n            })\n          }\n\n          return (\n            <Choice key={choice} isChecked={isChecked} isDisabled={!account}>\n              <div style={{ flexShrink: 0 }}>\n                <Radio scale=\"sm\" value={choice} checked={isChecked} onChange={handleChange} disabled={!account} />\n              </div>\n              <ChoiceText>\n                <Text as=\"span\" title={choice}>\n                  {choice}\n                </Text>\n              </ChoiceText>\n            </Choice>\n          )\n        })}\n        {account ? (\n          <Button onClick={presentCastVoteModal} disabled={vote === null}>\n            {t('Cast Vote')}\n          </Button>\n        ) : (\n          <ConnectWalletButton />\n        )}\n      </CardBody>\n    </Card>\n  )\n}\n\nexport default Vote\n","import React from 'react'\nimport { Box, Flex, Skeleton } from '@pancakeswap/uikit'\nimport times from 'lodash/times'\nimport styled from 'styled-components'\n\nconst Row = styled(Flex)`\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  padding: 16px 24px;\n`\n\nconst StyledSkeleton = styled(Skeleton)`\n  flex: 1;\n`\n\nconst VotesLoading = () => {\n  return (\n    <Box>\n      {times(10).map((index) => (\n        <Row key={index}>\n          <Skeleton height=\"21px\" mr=\"32px\" width=\"100px\" />\n          <StyledSkeleton height=\"21px\" mr=\"32px\" width=\"100%\" />\n          <StyledSkeleton height=\"21px\" width=\"100%\" />\n        </Row>\n      ))}\n    </Box>\n  )\n}\n\nexport default VotesLoading\n","import styled from 'styled-components'\nimport { Grid, Box } from '@pancakeswap/uikit'\n\nexport const AddressColumn = styled(Box).attrs({ alignItems: 'center' })`\n  grid-area: address;\n`\n\nexport const ChoiceColumn = styled(Box)`\n  grid-area: choice;\n  overflow: hidden;\n`\n\nexport const VotingPowerColumn = styled(Box)`\n  justify-self: end;\n  grid-area: vote;\n`\n\nconst Row = styled(Grid)`\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  grid-gap: 8px;\n  grid-template-areas:\n    'address address address'\n    'choice choice vote';\n  grid-template-columns: 1fr 1fr 120px;\n  padding: 8px 16px;\n\n  ${({ theme }) => theme.mediaQueries.sm} {\n    grid-gap: 16px;\n    grid-template-areas: 'address choice vote';\n    padding: 16px 24px;\n  }\n`\n\nexport default Row\n","import React from 'react'\nimport { Flex, LinkExternal, Text, Tag, CheckmarkCircleIcon } from '@pancakeswap/uikit'\nimport truncateHash from 'utils/truncateHash'\nimport { getBscScanLink } from 'utils'\nimport { useTranslation } from 'contexts/Localization'\nimport { Vote } from 'state/types'\nimport { IPFS_GATEWAY } from '../../config'\nimport TextEllipsis from '../TextEllipsis'\nimport Row, { AddressColumn, ChoiceColumn, VotingPowerColumn } from './Row'\n\ninterface VoteRowProps {\n  vote: Vote\n  isVoter: boolean\n}\n\nconst VoteRow: React.FC<VoteRowProps> = ({ vote, isVoter }) => {\n  const { t } = useTranslation()\n  const hasVotingPower = !!vote.metadata?.votingPower\n  const votingPower = hasVotingPower\n    ? parseFloat(vote.metadata.votingPower).toLocaleString(undefined, {\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 3,\n      })\n    : '--'\n\n  return (\n    <Row>\n      <AddressColumn>\n        <Flex alignItems=\"center\">\n          <LinkExternal href={getBscScanLink(vote.voter, 'address')}>{truncateHash(vote.voter)}</LinkExternal>\n          {isVoter && (\n            <Tag variant=\"success\" outline ml=\"8px\">\n              <CheckmarkCircleIcon mr=\"4px\" /> {t('Voted')}\n            </Tag>\n          )}\n        </Flex>\n      </AddressColumn>\n      <ChoiceColumn>\n        <TextEllipsis title={vote.proposal.choices[vote.choice - 1]}>\n          {vote.proposal.choices[vote.choice - 1]}\n        </TextEllipsis>\n      </ChoiceColumn>\n      <VotingPowerColumn>\n        <Flex alignItems=\"center\" justifyContent=\"end\">\n          <Text title={vote.metadata.votingPower}>{votingPower}</Text>\n          {hasVotingPower && <LinkExternal href={`${IPFS_GATEWAY}/${vote.id}`} />}\n        </Flex>\n      </VotingPowerColumn>\n    </Row>\n  )\n}\n\nexport default VoteRow\n","import React, { useState } from 'react'\nimport {\n  AutoRenewIcon,\n  Card,\n  CardHeader,\n  ChevronDownIcon,\n  Flex,\n  Heading,\n  Button,\n  ChevronUpIcon,\n} from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport orderBy from 'lodash/orderBy'\nimport { useTranslation } from 'contexts/Localization'\nimport { Vote, VotingStateLoadingStatus } from 'state/types'\nimport { useGetVotingStateLoadingStatus } from 'state/voting/hooks'\nimport VotesLoading from '../components/Proposal/VotesLoading'\nimport VoteRow from '../components/Proposal/VoteRow'\n\nconst VOTES_PER_VIEW = 20\n\ninterface VotesProps {\n  votes: Vote[]\n}\n\nconst parseVotePower = (incomingVote: Vote) => {\n  let votingPower = parseFloat(incomingVote?.metadata?.votingPower)\n  if (!votingPower) votingPower = 0\n  return votingPower\n}\n\nconst Votes: React.FC<VotesProps> = ({ votes }) => {\n  const [showAll, setShowAll] = useState(false)\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const orderedVotes = orderBy(votes, [parseVotePower, 'created'], ['desc', 'desc'])\n  const displayVotes = showAll ? orderedVotes : orderedVotes.slice(0, VOTES_PER_VIEW)\n  const voteStatus = useGetVotingStateLoadingStatus()\n  const isFinished = voteStatus === VotingStateLoadingStatus.IDLE\n\n  const handleClick = () => {\n    setShowAll(!showAll)\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <Flex alignItems=\"center\" justifyContent=\"space-between\">\n          <Heading as=\"h3\" scale=\"md\">\n            {t('Votes (%count%)', { count: votes.length.toLocaleString() })}\n          </Heading>\n          {!isFinished && <AutoRenewIcon spin width=\"22px\" />}\n        </Flex>\n      </CardHeader>\n      {!isFinished && <VotesLoading />}\n\n      {isFinished && displayVotes.length > 0 && (\n        <>\n          {displayVotes.map((vote) => {\n            const isVoter = account && vote.voter.toLowerCase() === account.toLowerCase()\n            return <VoteRow key={vote.id} vote={vote} isVoter={isVoter} />\n          })}\n          <Flex alignItems=\"center\" justifyContent=\"center\" py=\"8px\" px=\"24px\">\n            <Button\n              width=\"100%\"\n              onClick={handleClick}\n              variant=\"text\"\n              endIcon={\n                showAll ? (\n                  <ChevronUpIcon color=\"primary\" width=\"21px\" />\n                ) : (\n                  <ChevronDownIcon color=\"primary\" width=\"21px\" />\n                )\n              }\n              disabled={!isFinished}\n            >\n              {showAll ? t('Hide') : t('See All')}\n            </Button>\n          </Flex>\n        </>\n      )}\n\n      {isFinished && displayVotes.length === 0 && (\n        <Flex alignItems=\"center\" justifyContent=\"center\" py=\"32px\">\n          <Heading as=\"h5\">{t('No votes found')}</Heading>\n        </Flex>\n      )}\n    </Card>\n  )\n}\n\nexport default Votes\n","import React, { useEffect } from 'react'\nimport { ArrowBackIcon, Box, Button, Flex, Heading } from '@pancakeswap/uikit'\nimport { useWeb3React } from '@web3-react/core'\nimport { Link, useParams } from 'react-router-dom'\nimport { useAppDispatch } from 'state'\nimport { ProposalState, VotingStateLoadingStatus } from 'state/types'\nimport {\n  useGetProposal,\n  useGetVotingStateLoadingStatus,\n  useGetVotes,\n  useGetProposalLoadingStatus,\n} from 'state/voting/hooks'\nimport { fetchProposal, fetchVotes } from 'state/voting'\nimport { useTranslation } from 'contexts/Localization'\nimport Container from 'components/Layout/Container'\nimport ReactMarkdown from 'components/ReactMarkdown'\nimport PageLoader from 'components/Loader/PageLoader'\nimport { isCoreProposal } from '../helpers'\nimport { ProposalStateTag, ProposalTypeTag } from '../components/Proposals/tags'\nimport Layout from '../components/Layout'\nimport Details from './Details'\nimport Results from './Results'\nimport Vote from './Vote'\nimport Votes from './Votes'\nimport { PageMeta } from '../../../components/Layout/Page'\n\nconst Proposal = () => {\n  const { id }: { id: string } = useParams()\n  const proposal = useGetProposal(id)\n  const { t } = useTranslation()\n  const { account } = useWeb3React()\n  const dispatch = useAppDispatch()\n  const votes = useGetVotes(id)\n  const voteLoadingStatus = useGetVotingStateLoadingStatus()\n  const proposalLoadingStatus = useGetProposalLoadingStatus()\n  const hasAccountVoted = account && votes.some((vote) => vote.voter.toLowerCase() === account.toLowerCase())\n  const { id: proposalId = null, snapshot = null } = proposal ?? {}\n  const isPageLoading =\n    voteLoadingStatus === VotingStateLoadingStatus.LOADING || proposalLoadingStatus === VotingStateLoadingStatus.LOADING\n\n  useEffect(() => {\n    dispatch(fetchProposal(id))\n  }, [id, dispatch])\n\n  // We have to wait for the proposal to load before fetching the votes because we need to include the snapshot\n  useEffect(() => {\n    if (proposalId && snapshot) {\n      dispatch(fetchVotes({ proposalId, block: Number(snapshot) }))\n    }\n  }, [proposalId, snapshot, dispatch])\n\n  if (!proposal) {\n    return <PageLoader />\n  }\n\n  return (\n    <Container py=\"40px\">\n      <PageMeta />\n      <Box mb=\"40px\">\n        <Button as={Link} to=\"/voting\" variant=\"text\" startIcon={<ArrowBackIcon color=\"primary\" width=\"24px\" />} px=\"0\">\n          {t('Back to Vote Overview')}\n        </Button>\n      </Box>\n      <Layout>\n        <Box>\n          <Box mb=\"32px\">\n            <Flex alignItems=\"center\" mb=\"8px\">\n              <ProposalStateTag proposalState={proposal.state} />\n              <ProposalTypeTag isCoreProposal={isCoreProposal(proposal)} ml=\"8px\" />\n            </Flex>\n            <Heading as=\"h1\" scale=\"xl\" mb=\"16px\">\n              {proposal.title}\n            </Heading>\n            <Box>\n              <ReactMarkdown>{proposal.body}</ReactMarkdown>\n            </Box>\n          </Box>\n          {!isPageLoading && !hasAccountVoted && proposal.state === ProposalState.ACTIVE && (\n            <Vote proposal={proposal} mb=\"16px\" />\n          )}\n          <Votes votes={votes} />\n        </Box>\n        <Box>\n          <Details proposal={proposal} />\n          <Results choices={proposal.choices} votes={votes} />\n        </Box>\n      </Layout>\n    </Container>\n  )\n}\n\nexport default Proposal\n"],"sourceRoot":""}